<!DOCTYPE html>
<html lang="ko">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë©´ì ‘ ì „í˜• ì•ˆë‚´ë¬¸ ìƒì„±ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .ì•ˆë‚´ë¬¸-ì œëª© {
            font-size: 2.25em;
            font-weight: 600;
            color: #1e293b;
        }
        .ì•ˆë‚´ë¬¸-ë³¸ë¬¸ {
            font-size: 1rem;
            line-height: 1.75rem;
            color: #070707;
        }
        .ì•ˆë‚´ë¬¸-ê°•ì¡° {
            font-weight: 600;
            color: #1e293b;
        }
        .ì•ˆë‚´ë¬¸-êµ¬ë¶„ì„  {
            border-top-width: 1px;
            border-color: #e5e7eb;
            margin-top: 2rem;
            margin-bottom: 2rem;
        }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="container mx-auto bg-white rounded-lg shadow-md p-8 flex flex-col lg:flex-row gap-8">
        <div class="w-full lg:w-1/2 space-y-6">
            <h1 class="text-2xl font-semibold text-gray-800">ë©´ì ‘ ì •ë³´ ì…ë ¥</h1>
            <div>
                <label for="companyLogo" class="block text-sm font-medium text-gray-700">íšŒì‚¬ ë¡œê³ </label>
                <input type="file" id="companyLogo" accept="image/*" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>
            <div>
                <label for="companyImage" class="block text-sm font-medium text-gray-700">íšŒì‚¬ ì´ë¯¸ì§€ (ì„ íƒ ì‚¬í•­)</label>
                <input type="file" id="companyImage" accept="image/*" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>
            <div>
                <label for="applicantName" class="block text-sm font-medium text-gray-700">ì§€ì›ì ì´ë¦„</label>
                <input type="text" id="applicantName" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-full">
            </div>
             <div>
                <label for="teamName" class="block text-sm font-medium text-gray-700">ì§€ì›íŒ€</label>
                <input type="text" id="teamName" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-full">
            </div>
            <div>
                <label for="interviewProcess" class="block text-sm font-medium text-gray-700">ë©´ì ‘ ì ˆì°¨</label>
                <select id="interviewProcess" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                    <option value="ì„œë¥˜ í•©ê²©">ì„œë¥˜ í•©ê²©</option>
                    <option value="1ì°¨ ë©´ì ‘">1ì°¨ ë©´ì ‘</option>
                    <option value="2ì°¨ ë©´ì ‘">2ì°¨ ë©´ì ‘</option>
                    <option value="ìµœì¢… í•©ê²©">ìµœì¢… í•©ê²©</option>
                    <option value="ìµœì¢… ë¶ˆí•©ê²©">ìµœì¢… ë¶ˆí•©ê²©</option>
                </select>
            </div>
            <div>
                <label for="interviewDate" class="block text-sm font-medium text-gray-700">ë©´ì ‘ ì¼ì</label>
                <input type="datetime-local" id="interviewDate" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>
            <div>
                <label for="interviewLocation" class="block text-sm font-medium text-gray-700">ë©´ì ‘ ì¥ì†Œ</label>
                <input type="text" id="interviewLocation" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-full">
            </div>
            <div>
                <label for="interviewDressCode" class="block text-sm font-medium text-gray-700">ë©´ì ‘ ë³µì¥</label>
                <input type="text" id="interviewDressCode" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-full">
            </div>
            <div>
                <label for="interviewProgress" class="block text-sm font-medium text-gray-700">ë©´ì ‘ ë°©ì‹</label>
                <input type="text" id="interviewProgress" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-full">
            </div>
            <div>
                <label for="additionalInfoType" class="block text-sm font-medium text-gray-700">ì¶”ê°€ ì•ˆë‚´ ì‚¬í•­ ì„ íƒ</label>
                <select id="additionalInfoType" class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                    <option value="ë‹´ë‹¹ì ë¬¸ì˜">ë‹´ë‹¹ì ë¬¸ì˜</option>
                    <option value="ê³µì¥ ë‹´ë‹¹ì ë¬¸ì˜">ê³µì¥ ë‹´ë‹¹ì ë¬¸ì˜</option>
                </select>
            </div>
            <div>
                <label for="contactEmail" class="block text-sm font-medium text-gray-700">ë‹´ë‹¹ì ì´ë©”ì¼</label>
                <input type="text" id="contactEmail" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-full">
            </div>
            <div>
                <label for="factoryContactInfo" class="block text-sm font-medium text-gray-700">ê³µì¥ ë‹´ë‹¹ì ì •ë³´</label>
                <input type="text" id="factoryContactInfo" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-full">
            </div>
             <div>
                <label for="additionalInfo" class="block text-sm font-medium text-gray-700">ê¸°íƒ€ ì‚¬í•­</label>
                <textarea id="additionalInfo" rows="4" class="mt-1 p-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm w-full"></textarea>
            </div>
            <button id="captureAndSave" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md shadow-md focus:outline-none focus:shadow-outline">
                ì•ˆë‚´ë¬¸ ìº¡ì²˜ ë° ì €ì¥
            </button>
        </div>

        <div class="w-full lg:w-1/2">
            <div id="previewArea" class="bg-white rounded-lg p-6 shadow-md border border-gray-200">
                <div id="companyLogoPreview" class="flex justify-center mb-4">
                    <img id="logoImage" src="#" alt="íšŒì‚¬ ë¡œê³ " style="max-width: 150px; display: none;">
                </div>
                <div id="companyImagePreview" class="flex justify-center mb-4">
                    <img id="mainImage" src="#" alt="íšŒì‚¬ ì´ë¯¸ì§€" style="max-width: 100%; height: auto; display: none;">
                </div>
                <h2 class="ì•ˆë‚´ë¬¸-ì œëª© mb-4 text-center">ë©´ì ‘ ì „í˜• ì•ˆë‚´</h2>
                <p id="applicantNamePreview" class="ì•ˆë‚´ë¬¸-ë³¸ë¬¸ text-left mb-4"><span class="font-semibold text-lg"></span></p>
                <div id="greeting" class="ì•ˆë‚´ë¬¸-ë³¸ë¬¸ mb-4"><span class="font-semibold text-lg"></span></div>
                <div id="interviewDetails" class="space-y-2">
                    <p class="ì•ˆë‚´ë¬¸-ë³¸ë¬¸"><span class="ì•ˆë‚´ë¬¸-ê°•ì¡°">ğŸ“… ì¼ì‹œ:</span> <span id="interviewDatePreview" class="font-semibold text-lg"></span></p>
                    <p class="ì•ˆë‚´ë¬¸-ë³¸ë¬¸"><span class="ì•ˆë‚´ë¬¸-ê°•ì¡°">ğŸ“ ì¥ì†Œ:</span> <span id="interviewLocationPreview" class="font-semibold text-lg"></span></p>
                    <p class="ì•ˆë‚´ë¬¸-ë³¸ë¬¸"><span class="ì•ˆë‚´ë¬¸-ê°•ì¡°">ğŸ‘” ë³µì¥:</span> <span id="interviewDressCodePreview" class="font-semibold text-lg"></span></p>
                    <p class="ì•ˆë‚´ë¬¸-ë³¸ë¬¸"><span class="ì•ˆë‚´ë¬¸-ê°•ì¡°">ğŸ¤µ ë°©ì‹:</span> <span id="interviewProgressPreview" class="font-semibold text-lg">ë¯¸ì •</span></p>
                </div>
                <div class="ì•ˆë‚´ë¬¸-êµ¬ë¶„ì„ "></div>
                <div id="additionalInfoPreview" class="ì•ˆë‚´ë¬¸-ë³¸ë¬¸ whitespace-pre-line mb-4"></div>
            </div>
        </div>
    </div>

    <script>
    const companyLogoInput = document.getElementById('companyLogo');
    const companyImageInput = document.getElementById('companyImage');
    const applicantNameInput = document.getElementById('applicantName');
    const teamNameInput = document.getElementById('teamName');
    const interviewDateInput = document.getElementById('interviewDate');
    const interviewLocationInput = document.getElementById('interviewLocation');
    const interviewDressCodeInput = document.getElementById('interviewDressCode');
    const interviewProcessInput = document.getElementById('interviewProcess');
    const additionalInfoTypeInput = document.getElementById('additionalInfoType');
    const contactEmailInput = document.getElementById('contactEmail');
    const factoryContactInfoInput = document.getElementById('factoryContactInfo');
    const additionalInfoInput = document.getElementById('additionalInfo');
    const captureAndSaveButton = document.getElementById('captureAndSave');
    const interviewProgressInput = document.getElementById('interviewProgress'); // ì¶”ê°€ëœ input

    const logoImagePreview = document.getElementById('logoImage');
    const mainImagePreview = document.getElementById('mainImage');
    const greetingPreview = document.getElementById('greeting');
    const applicantNamePreview = document.getElementById('applicantNamePreview');
    const interviewDatePreview = document.getElementById('interviewDatePreview');
    const interviewLocationPreview = document.getElementById('interviewLocationPreview');
    const interviewDressCodePreview = document.getElementById('interviewDressCodePreview');
    const interviewProgressPreview = document.getElementById('interviewProgressPreview'); // ì¶”ê°€ëœ preview
    const additionalInfoPreview = document.getElementById('additionalInfoPreview');

    const ì•ˆë‚´ë¬¸_ì œëª© = "ë©´ì ‘ ì „í˜• ì•ˆë‚´";

    companyLogoInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                logoImagePreview.src = e.target.result;
                logoImagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            logoImagePreview.style.display = 'none';
            logoImagePreview.src = '#';
        }
    });

    companyImageInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                mainImagePreview.src = e.target.result;
                mainImagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            mainImagePreview.style.display = 'none';
            mainImagePreview.src = '#';
        }
    });

    function updatePreview() {
        const applicantName = applicantNameInput.value;
        const teamName = teamNameInput.value;
        const interviewProcess = interviewProcessInput.value;
        const additionalInfoType = additionalInfoTypeInput.value;
        const contactEmail = contactEmailInput.value;
        const factoryContactInfo = factoryContactInfoInput.value;
        const interviewDate = interviewDateInput.value;
        const interviewLocation = interviewLocationInput.value;
        const interviewDressCode = interviewDressCodeInput.value;
        const interviewProgress = interviewProgressInput.value; // ì¶”ê°€ëœ ë¶€ë¶„
        const additionalInfoText = additionalInfoInput.value;
        let greetingText = '';
        let showDetails = true;
        let additionalInfoContent = '';

        switch (interviewProcess) {
            case 'ì„œë¥˜ í•©ê²©':
                greetingText = `ì•ˆë…•í•˜ì„¸ìš” ì´ëˆ„ìŠ¤ ì£¼ì‹íšŒì‚¬ ì¸ì‚¬íŒ€ ì±„ìš©ë‹´ë‹¹ ì…ë‹ˆë‹¤.<br> ${teamName} ì„œë¥˜ í•©ê²©ì„ ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜ ë“œë¦¬ë©°, ë©´ì ‘ ì „í˜• ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`;
                break;
            case '1ì°¨ ë©´ì ‘':
                greetingText = `ì•ˆë…•í•˜ì„¸ìš” ì´ëˆ„ìŠ¤ ì£¼ì‹íšŒì‚¬ ì¸ì‚¬íŒ€ ì±„ìš©ë‹´ë‹¹ ì…ë‹ˆë‹¤.<br> ${teamName} 1ì°¨ ë©´ì ‘ í•©ê²©ì„ ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜ ë“œë¦¬ë©°, ë©´ì ‘ ì „í˜• ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`;
                break;
            case '2ì°¨ ë©´ì ‘':
                greetingText = `ì•ˆë…•í•˜ì„¸ìš” ì´ëˆ„ìŠ¤ ì£¼ì‹íšŒì‚¬ ì¸ì‚¬íŒ€ ì±„ìš©ë‹´ë‹¹ ì…ë‹ˆë‹¤.<br> ${teamName} 2ì°¨ ë©´ì ‘ í•©ê²©ì„ ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜ ë“œë¦¬ë©°, ë©´ì ‘ ì „í˜• ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`;
                break;
            case 'ìµœì¢… í•©ê²©':
                greetingText = `ì•ˆë…•í•˜ì„¸ìš” ì´ëˆ„ìŠ¤ ì£¼ì‹íšŒì‚¬ ì¸ì‚¬íŒ€ ì±„ìš©ë‹´ë‹¹ ì…ë‹ˆë‹¤.<br> ${teamName} ìµœì¢… í•©ê²©ì„ ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜ ë“œë¦½ë‹ˆë‹¤.<br>
                ì„ ë°œ ê³¼ì •ì„ í†µí•´ ê·€í•˜ì˜ ê²½í—˜ê³¼ ìì§ˆì´ ìš°ë¦¬ ì´ëˆ„ìŠ¤ì˜ ë°œì „ ë°©í–¥ì— í° ê¸°ì—¬ë¥¼ í•  ê²ƒì´ë¼ê³  ë¯¿ìŠµë‹ˆë‹¤.
                <br><br>ë‹¤ìŒ ë‹¨ê³„ë¡œ ì¸ì‚¬íŒ€ì—ì„œ ì²˜ìš° ë° ì…ì‚¬ì¼ì„ í¬í•¨í•œ ì„¸ë¶€ ì‚¬í•­ í˜‘ì˜ë¥¼ ìœ„í•´ ì—°ë½ ë“œë¦´ ê²ƒì…ë‹ˆë‹¤.`;
                showDetails = false;
                break;
            case 'ìµœì¢… ë¶ˆí•©ê²©':
                greetingText = `ì•ˆë…•í•˜ì„¸ìš” ì´ëˆ„ìŠ¤ ì£¼ì‹íšŒì‚¬ ì¸ì‚¬íŒ€ ì±„ìš©ë‹´ë‹¹ ì…ë‹ˆë‹¤.<br> ì´ëˆ„ìŠ¤ ${teamName} ì¸ì¬ ì˜ì…ì— ê´€ì‹¬ì„ ê°–ê³  ì§€ì›í•´ ì£¼ì…”ì„œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.
                <br>ì•ˆíƒ€ê¹ê²Œë„ ë©´ì ‘ ì‹¬ì‚¬ì—ì„œ ì§€ì›ìë‹˜ì„ ì„ ë°œí•  ìˆ˜ ì—†ê²Œ ë˜ì—ˆìŒì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.<br><br>
                ì´ëˆ„ìŠ¤ì— ëŒ€í•œ ê´€ì‹¬ê³¼ ì§€ì›ì— ê¹Šì€ ê°ì‚¬ë¥¼ ë“œë¦¬ë©°, ì•ë‚ ì— ë¬´ê¶í•œ ë°œì „ì´ í•¨ê»˜ í•˜ì‹œê¸°ë¥¼ ì§„ì‹¬ìœ¼ë¡œ ê¸°ì›ë“œë¦½ë‹ˆë‹¤.`;
                showDetails = false;
                break; // Added break statement here
            default:
                greetingText = "";
        }

        applicantNamePreview.innerHTML = `<span class="font-semibold text-lg">${applicantName}</span>ë‹˜.`;
        greetingPreview.innerHTML = `<span class="font-semibold text-lg">${greetingText}</span>`;

        if (showDetails) {
            interviewDatePreview.textContent = interviewDate ? new Date(interviewDate).toLocaleString() : 'ë¯¸ì •';
            interviewLocationPreview.textContent = interviewLocation || 'ë¯¸ì •';
            interviewDressCodePreview.textContent = interviewDressCode || 'ë¯¸ì •';
            interviewProgressPreview.textContent = interviewProgress || 'ë¯¸ì •'; // ì¶”ê°€ëœ ë¶€ë¶„
            document.getElementById('interviewDetails').style.display = 'block';
        } else {
            document.getElementById('interviewDetails').style.display = 'none';
        }
        additionalInfoContent = additionalInfoText;
        if (additionalInfoType === "ë‹´ë‹¹ì ë¬¸ì˜") {
            additionalInfoContent = `${additionalInfoText}<br><br>ê¸°íƒ€ ë¬¸ì˜ ì‚¬í•­ì€ ${contactEmail}ìœ¼ë¡œ ë¬¸ì˜í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.<br>ê°ì‚¬í•©ë‹ˆë‹¤.<br><br>ì¸ì‚¬íŒ€ ì±„ìš© ë‹´ë‹¹ ë“œë¦¼<br><br>`;
        } else if (additionalInfoType === "ê³µì¥ ë‹´ë‹¹ì ë¬¸ì˜") {
            additionalInfoContent = `${additionalInfoText}<br><br>ê¸°íƒ€ ë¬¸ì˜ ì‚¬í•­ì€ ${contactEmail}ìœ¼ë¡œ ë¬¸ì˜í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.<br>ê°ì‚¬í•©ë‹ˆë‹¤.<br><br>ê³µì¥ ë‹´ë‹¹ì : ${factoryContactInfo}<br><br>`;
        } else {
            additionalInfoContent = additionalInfoText;
        }

        additionalInfoPreview.innerHTML = additionalInfoContent;
    }

    applicantNameInput.addEventListener('input', updatePreview);
    teamNameInput.addEventListener('input', updatePreview);
    interviewProcessInput.addEventListener('change', updatePreview); // Moved event listener
    interviewDateInput.addEventListener('change', updatePreview);
    interviewLocationInput.addEventListener('input', updatePreview);
    interviewDressCodeInput.addEventListener('input', updatePreview);
    interviewProgressInput.addEventListener('input', updatePreview); // ì¶”ê°€ëœ inputì— ëŒ€í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    additionalInfoTypeInput.addEventListener('change', updatePreview);
    contactEmailInput.addEventListener('input', updatePreview);
    factoryContactInfoInput.addEventListener('input', updatePreview);
    additionalInfoInput.addEventListener('input', updatePreview);

    captureAndSaveButton.addEventListener('click', () => {
        html2canvas(document.getElementById('previewArea')).then(canvas => {
            const link = document.createElement('a');
            link.href = canvas.toDataURL('image/png');
            link.download = 'ë©´ì ‘ì•ˆë‚´ë¬¸.png';
            link.click();
        });
    });

    updatePreview();
    </script>
</body>
</html>
